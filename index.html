<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ქართული ჰემატრიის კალკულატორი</title>
    <style>
        @font-face {
    font-family: 'Untitled1';
    src: url('Untitled1.woff2') format('woff2'),
        url('Untitled1.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}


        body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #121212, #1f1f1f);
    color: #ffffff;
    margin: 0;
    padding: 0;
}

.test-mode-banner {
    background: #ffcc00;
    color: #121212;
    text-align: center;
    padding: 10px;
    font-weight: bold;
}

header {
    background: #1a1a1a;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
}

.logo {
    font-size: 26px;
    font-weight: bold;
    color: #4a90e2;
}

.header-image {
    max-width: 100px;
    height: auto;
    border-radius: 8px;
}

.header-text {
    font-size: 16px;
    color: #ff4d4d;
    text-align: center;
    flex-grow: 1;
    padding: 0 20px;
}

.nav-container {
    background: #2a2a2a;
    padding: 10px 0;
}

.nav-menu {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    list-style: none;
    justify-content: center;
}

.nav-menu a {
    color: #ffffff;
    text-decoration: none;
    padding: 15px 25px;
    display: block;
    font-size: 16px;
}

.nav-menu a:hover, .nav-menu a.active {
    background: #4a90e2;
    border-radius: 5px;
}

.dropdown-content {
    display: none;
    position: absolute;
    background: #2a2a2a;
    min-width: 180px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

.dropdown:hover .dropdown-content {
    display: block;
}

.dropdown-content a {
    padding: 12px 20px;
}

.container {
    max-width: 1200px;
    margin: 30px auto;
    padding: 0 20px;
    text-align: center;
}

.title h2 {
    color: #4a90e2;
    font-size: 28px;
    text-transform: uppercase;
}

.input-area {
    margin-bottom: 30px;
}

#word-input {
    width: 90%;
    max-width: 450px;
    padding: 12px;
    font-size: 18px;
    background: #2a2a2a;
    color: #ffffff;
    border: 1px solid #444;
    border-radius: 8px;
}

.action-buttons {
    margin: 20px 0;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
}

.action-btn {
    background: linear-gradient(135deg, #4a90e2, #357abd);
    color: #ffffff;
    border: none;
    border-radius: 8px;
    padding: 12px 20px;
    margin: 0 10px 10px;
    cursor: pointer;
    font-size: 16px;
}

.action-btn:hover {
    background: linear-gradient(135deg, #3a7bc8, #2a639e);
}

.results-box {
    background: #1a1a1a;
    border: 1px solid #333;
    border-radius: 12px;
    padding: 25px;
    margin-bottom: 30px;
    width: 90%;
    max-width: 600px;
    display: inline-block;
}

.results-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 15px;
}

.result-label {
    font-size: 14px;
    color: #aaaaaa;
}

.value {
    font-size: 36px;
    font-weight: bold;
}

.ordinal-value { color: #4dff4d; }
.reduction-value { color: #4a90e2; }
.reverse-value { color: #4dff4d; }
.reverse-reduction-value { color: #00cccc; }
.hidden-value { color: #ff9900; }
.hidden-reduction-value { color: #ff6600; }

.word-breakdown {
    margin: 20px auto;
    max-width: 600px;
}

.breakdown-word {
    letter-spacing: 12px;
    font-size: 20px;
}

.breakdown-numbers {
    letter-spacing: 12px;
    font-size: 18px;
    color: #4dff4d;
}

.calculation-details {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 25px;
    max-width: 900px;
    margin: 0 auto 30px;
}

.calculation-column {
    background: #1a1a1a;
    border: 1px solid #333;
    border-radius: 12px;
    padding: 20px;
}

.calculation-title {
    font-size: 18px;
    color: #4dff4d;
    text-transform: uppercase;
}

.calculation-subtitle {
    font-size: 16px;
    color: #4a90e2;
}

.calculation-value {
    font-size: 28px;
    font-weight: bold;
}

.anagram-section, .crypto-section {
    margin: 30px auto;
    padding: 25px;
    background: #1a1a1a;
    border: 1px solid #333;
    border-radius: 12px;
    max-width: 900px;
}

.anagram-title {
    font-size: 22px;
    color: #4a90e2;
    text-transform: uppercase;
    margin-bottom: 20px;
}

.anagram-loader {
    display: none;
    margin: 20px auto;
    border: 4px solid #1a1a1a;
    border-top: 4px solid #4a90e2;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.anagram-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

.anagram-table th, .anagram-table td {
    border: 1px solid #444;
    padding: 12px;
    font-size: 16px;
    background: #252525;
}

.anagram-table th {
    background: #333;
    color: #4a90e2;
}

.anagram-message {
    margin: 20px 0;
    font-style: italic;
    color: #aaaaaa;
}

.alphabet-section {
    margin-top: 40px;
}

.alphabet-title {
    font-size: 22px;
    color: #4a90e2;
    text-transform: uppercase;
}

.alphabet-container {
    background: #1a1a1a;
    border: 1px solid #333;
    border-radius: 12px;
    padding: 25px;
    max-width: 900px;
    margin: 0 auto;
}

.alphabet-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 12px;
}

.letter-box {
    padding: 10px;
    background: #2a2a2a;
    border: 1px solid #444;
    border-radius: 8px;
}

.letter-ordinal { font-size: 12px; color: #4dff4d; }
.letter { font-size: 20px; }
.letter-value { font-size: 12px; color: #888; }

footer {
    background: linear-gradient(135deg, #1a1a1a, #252525);
    padding: 30px 0;
    text-align: center;
    margin-top: 40px;
}

.footer-text {
    font-size: 16px;
    color: #aaaaaa;
}

.footer-contact {
    display: flex;
    justify-content: center;
    gap: 40px;
}

.contact-item {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 16px;
    color: #ffffff;
}

.contact-icon {
    width: 20px;
    height: 20px;
    fill: #4a90e2;
}

@media (max-width: 1024px) {
    .results-grid { grid-template-columns: repeat(3, 1fr); }
    .calculation-details { grid-template-columns: repeat(2, 1fr); }
    .alphabet-grid { grid-template-columns: repeat(6, 1fr); }
}

@media (max-width: 768px) {
    header { flex-direction: column; }
    .nav-menu { flex-direction: column; }
    .results-grid { grid-template-columns: 1fr 1fr; }
    .calculation-details { grid-template-columns: 1fr; }
    .action-buttons { flex-direction: column; }
    .action-btn { width: 80%; margin: 5px auto; }
}
    </style>
</head>
<body>
    <div class="test-mode-banner">საიტი მუშაობს სატესტო რეჟიმში</div>

    <header>
       <div class="logo">✠ ქართული ჰემატრია</div>
        <div class="header-text">✠"დამარხულ არც ენაი ქართული დღედმდე მეორედ მოსვლისა მესიისა საწამებლად..."✠</div>
        <img src="https://bolnisi.gov.ge/files/uploads/Flag_of_Bolnisi_Municipality.svg.png" alt="Orthodox Symbol" class="header-image">
    </header>

    <div class="nav-container">
        <ul class="nav-menu">
            <li><a href="#" class="active">კალკულატორი</a></li>
            <li class="dropdown">
                <a href="#" class="dropbtn">ხელსაწყოები</a>
                <div class="dropdown-content">
                    <a href="#">რიცხვითი თვისებები</a>
                    <a href="#">ტექსტის სიხშირული ანალიზი</a>
                </div>
            </li>
        </ul>
    </div>

    <div class="container">
        <div class="title">
            <h2>ქართული ჰემატრიის კალკულატორი</h2>
        </div>

        <div class="input-area">
            <input type="text" id="word-input" placeholder="შეიყვანეთ სიტყვა...">
            <div class="action-buttons">
                <button id="find-anagrams-btn" class="action-btn">ანაგრამების ძიება</button>
                <button id="crypto-analysis-btn" class="action-btn">კრიპტოგრაფიული ანალიზი</button>
                <button id="clear-btn" class="action-btn">გასუფთავება</button>
            </div>
        </div>

        <div class="results-box">
            <div class="results-grid">
                <div>
                    <div class="result-label">რიგითი მნიშვნელობების ჯამი</div>
                    <p id="ordinal-value" class="value ordinal-value">0</p>
                </div>
                <div>
                    <div class="result-label">1 ციფრამდე დაყვანა</div>
                    <p id="reduction-value" class="value reduction-value">0</p>
                </div>
                <div>
                    <div class="result-label">რიცხვითი მნიშვნელობების ჯამი</div>
                    <p id="reverse-value" class="value reverse-value">0</p>
                </div>
                <div>
                    <div class="result-label">1 ციფრამდე დაყვანა</div>
                    <p id="reverse-reduction-value" class="value reverse-reduction-value">0</p>
                </div>
                <div>
                    <div class="result-label">ფარული ჰემატრია</div>
                    <p id="hidden-value" class="value hidden-value">0</p>
                </div>
                <div>
                    <div class="result-label">1 ციფრამდე დაყვანა</div>
                    <p id="hidden-reduction-value" class="value hidden-reduction-value">0</p>
                </div>
            </div>
        </div>

        <div class="word-breakdown" id="word-breakdown">
            <p id="input-word" class="breakdown-word"></p>
            <p id="ordinal-breakdown" class="breakdown-numbers"></p>
        </div>

        <div class="calculation-details">
            <div class="calculation-column">
                <div class="calculation-title">რიგითი ჯამი</div>
                <div id="ordinal-calculation" class="calculation-value">0</div>
                <div class="calculation-subtitle">1 ციფრამდე დაყვანა</div>
                <div id="ordinal-reduction" class="calculation-value">0</div>
            </div>
            <div class="calculation-column">
                <div class="calculation-title">რიცხვითი ჯამი</div>
                <div id="numeric-calculation" class="calculation-value">0</div>
                <div class="calculation-subtitle">1 ციფრამდე დაყვანა</div>
                <div id="numeric-reduction" class="calculation-value">0</div>
            </div>
            <div class="calculation-column">
                <div class="calculation-title">ფარული ჰემატრია</div>
                <div id="hidden-calculation" class="calculation-value">0</div>
                <div class="calculation-subtitle">1 ციფრამდე დაყვანა</div>
                <div id="hidden-reduction" class="calculation-value hidden-value">0</div>
            </div>
        </div>

        <div class="anagram-section" id="anagram-section" style="display: none;">
            <div class="anagram-title">ანაგრამები</div>
            <div id="anagram-loader" class="anagram-loader"></div>
            <div id="anagram-message" class="anagram-message"></div>
            <table id="anagram-table" class="anagram-table" style="display: none;">
                <thead>
                    <tr>
                        <th>ანაგრამა</th>
                    </tr>
                </thead>
                <tbody id="anagram-results"></tbody>
            </table>
        </div>

        <div class="crypto-section" id="crypto-section" style="display: none;">
            <div class="anagram-title">კრიპტოგრაფიული ანალიზი</div>
            <div id="crypto-loader" class="anagram-loader"></div>
            <div id="crypto-result" class="anagram-message"></div>
        </div>

        <div class="alphabet-section">
            <div class="alphabet-title">ქართული ანბანი</div>
            <div class="alphabet-container">
                <div class="alphabet-grid" id="alphabet-grid"></div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p class="footer-text">© 2025 ქართული ჰემატრიის კალკულატორი</p>
            <div class="footer-contact">
                <div class="contact-item">
                    <svg class="contact-icon" viewBox="0 0 24 24">
                        <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 2l-8 5-8-5V6l8 5 8-5z"/>
                    </svg>
                    <span>info@nextgen.ge</span>
                </div>
                <div class="contact-item">
                    <svg class="contact-icon" viewBox="0 0 24 24">
                        <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.24 1.02l-2.2 2.2z"/>
                    </svg>
                    <span>+995 599 09 82 79</span>
                </div>
            </div>
        </div>
    </footer>

    <script>
       // გლობალური ცვლადები
// გლობალური ცვლადები
// გლობალური ცვლადები
// გლობალური ცვლადები
let wordListCache = null;

const georgianAlphabet = [
    { letter: 'ა', ordinal: 1, value: 1 },
    { letter: 'ბ', ordinal: 2, value: 2 },
    { letter: 'გ', ordinal: 3, value: 3 },
    { letter: 'დ', ordinal: 4, value: 4 },
    { letter: 'ე', ordinal: 5, value: 5 },
    { letter: 'ვ', ordinal: 6, value: 6 },
    { letter: 'ზ', ordinal: 7, value: 7 },
    { letter: 'ჱ(Ⴡ)', ordinal: 8, value: 8 },
    { letter: 'თ', ordinal: 9, value: 9 },
    { letter: 'ი', ordinal: 10, value: 10 },
    { letter: 'კ', ordinal: 11, value: 20 },
    { letter: 'ლ', ordinal: 12, value: 30 },
    { letter: 'მ', ordinal: 13, value: 40 },
    { letter: 'ნ', ordinal: 14, value: 50 },
    { letter: 'ჲ', ordinal: 15, value: 60 },
    { letter: 'ო', ordinal: 16, value: 70 },
    { letter: 'პ', ordinal: 17, value: 80 },
    { letter: 'ჟ', ordinal: 18, value: 90 },
    { letter: 'რ', ordinal: 19, value: 100 },
    { letter: 'ს', ordinal: 20, value: 200 },
    { letter: 'ტ', ordinal: 21, value: 300 },
    { letter: 'ჳ(Ⴣ)', ordinal: 22, value: 400 },
    { letter: 'უ', ordinal: 22, value: 400 },
    { letter: 'ფ', ordinal: 23, value: 500 },
    { letter: 'ქ', ordinal: 24, value: 600 },
    { letter: 'ღ', ordinal: 25, value: 700 },
    { letter: 'ყ', ordinal: 26, value: 800 },
    { letter: 'შ', ordinal: 27, value: 900 },
    { letter: 'ჩ', ordinal: 28, value: 1000 },
    { letter: 'ც', ordinal: 29, value: 2000 },
    { letter: 'ძ', ordinal: 30, value: 3000 },
    { letter: 'წ', ordinal: 31, value: 4000 },
    { letter: 'ჭ', ordinal: 32, value: 5000 },
    { letter: 'ხ', ordinal: 33, value: 6000 },
    { letter: 'ჴ(Ⴤ)', ordinal: 34, value: 7000 },
    { letter: 'ჯ', ordinal: 35, value: 8000 },
    { letter: 'ჰ', ordinal: 36, value: 9000 },
    { letter: 'ჵ(Ⴥ)', ordinal: 37, value: 10000 }
];

const georgianAlphabet = [
    { letter: 'ა', ordinal: 1, value: 1 }, { letter: 'ბ', ordinal: 2, value: 2 },
    { letter: 'გ', ordinal: 3, value: 3 }, { letter: 'დ', ordinal: 4, value: 4 },
    { letter: 'ე', ordinal: 5, value: 5 }, { letter: 'ვ', ordinal: 6, value: 6 },
    { letter: 'ზ', ordinal: 7, value: 7 }, { letter: 'ჱ', ordinal: 8, value: 8 },
    { letter: 'თ', ordinal: 9, value: 9 }, { letter: 'ი', ordinal: 10, value: 10 },
    { letter: 'კ', ordinal: 11, value: 20 }, { letter: 'ლ', ordinal: 12, value: 30 },
    { letter: 'მ', ordinal: 13, value: 40 }, { letter: 'ნ', ordinal: 14, value: 50 },
    { letter: 'ჲ', ordinal: 15, value: 60 }, { letter: 'ო', ordinal: 16, value: 70 },
    { letter: 'პ', ordinal: 17, value: 80 }, { letter: 'ჟ', ordinal: 18, value: 90 },
    { letter: 'რ', ordinal: 19, value: 100 }, { letter: 'ს', ordinal: 20, value: 200 },
    { letter: 'ტ', ordinal: 21, value: 300 }, { letter: 'ჳ', ordinal: 22, value: 400 },
    { letter: 'უ', ordinal: 23, value: 400 }, { letter: 'ფ', ordinal: 24, value: 500 },
    { letter: 'ქ', ordinal: 25, value: 600 }, { letter: 'ღ', ordinal: 26, value: 700 },
    { letter: 'ყ', ordinal: 27, value: 800 }, { letter: 'შ', ordinal: 28, value: 900 },
    { letter: 'ჩ', ordinal: 29, value: 1000 }, { letter: 'ც', ordinal: 30, value: 2000 },
    { letter: 'ძ', ordinal: 31, value: 3000 }, { letter: 'წ', ordinal: 32, value: 4000 },
    { letter: 'ჭ', ordinal: 33, value: 5000 }, { letter: 'ხ', ordinal: 34, value: 6000 },
    { letter: 'ჴ', ordinal: 35, value: 7000 }, { letter: 'ჯ', ordinal: 36, value: 8000 },
    { letter: 'ჰ', ordinal: 37, value: 9000 }, { letter: 'ჵ', ordinal: 38, value: 10000 }
];

const letterLookup = {};
georgianAlphabet.forEach(item => letterLookup[item.letter] = item);

document.addEventListener('DOMContentLoaded', () => {
    generateAlphabetDisplay();

    document.getElementById('word-input').addEventListener('input', debounce(calculateGematria, 300));
    document.getElementById('find-anagrams-btn').addEventListener('click', findAnagrams);
    document.getElementById('crypto-analysis-btn').addEventListener('click', performCryptoAnalysis);
    document.getElementById('clear-btn').addEventListener('click', resetAll);
});

function generateAlphabetDisplay() {
    const grid = document.getElementById('alphabet-grid');
    georgianAlphabet.forEach(item => {
        const box = document.createElement('div');
        box.className = 'letter-box';
        box.innerHTML = `
            <div class="letter-ordinal">${item.ordinal}</div>
            <div class="letter">${item.letter}</div>
            <div class="letter-value">${item.value}</div>
        `;
        grid.appendChild(box);
    });
}

function calculateGematria() {
    const input = document.getElementById('word-input').value.trim();
    if (!input) return resetResults();

    let ordinalSum = 0, numericalSum = 0, hiddenSum = 0;
    const ordinalValues = [], numericalValues = [], hiddenValues = [];

    for (let char of input) {
        const info = letterLookup[char];
        if (info) {
            const ordinal = info.ordinal;
            const numerical = info.value;
            const triangular = (ordinal * (ordinal + 1)) / 2;

            ordinalSum += ordinal;
            numericalSum += numerical;
            hiddenSum += triangular;

            ordinalValues.push(ordinal);
            numericalValues.push(numerical);
            hiddenValues.push(triangular);
        }
    }

    updateGematriaDisplay(
        input, ordinalSum, numericalSum, hiddenSum,
        reduceToSingleDigit(ordinalSum), reduceToSingleDigit(numericalSum), reduceToSingleDigit(hiddenSum),
        ordinalValues, numericalValues, hiddenValues
    );
}

function updateGematriaDisplay(word, ordinalSum, numericalSum, hiddenSum, ordinalReduction, numericalReduction, hiddenReduction, ordinalValues, numericalValues, hiddenValues) {
    document.getElementById('ordinal-value').textContent = ordinalSum;
    document.getElementById('reduction-value').textContent = ordinalReduction;
    document.getElementById('reverse-value').textContent = numericalSum;
    document.getElementById('reverse-reduction-value').textContent = numericalReduction;
    document.getElementById('hidden-value').textContent = hiddenSum;
    document.getElementById('hidden-reduction-value').textContent = hiddenReduction;

    document.getElementById('ordinal-calculation').textContent = `${ordinalValues.join(' + ')} = ${ordinalSum}`;
    document.getElementById('numeric-calculation').textContent = `${numericalValues.join(' + ')} = ${numericalSum}`;
    document.getElementById('hidden-calculation').textContent = `${hiddenValues.join(' + ')} = ${hiddenSum}`;
    document.getElementById('ordinal-reduction').textContent = ordinalReduction;
    document.getElementById('numeric-reduction').textContent = numericalReduction;
    document.getElementById('hidden-reduction').textContent = hiddenReduction;

    document.getElementById('input-word').textContent = word;
    document.getElementById('ordinal-breakdown').textContent = ordinalValues.join(' ');
}

function reduceToSingleDigit(num) {
    return num < 10 ? num : 1 + ((num - 1) % 9);
}

function resetResults() {
    ['ordinal-value', 'reduction-value', 'reverse-value', 'reverse-reduction-value', 'hidden-value', 'hidden-reduction-value',
     'ordinal-calculation', 'numeric-calculation', 'hidden-calculation', 'ordinal-reduction', 'numeric-reduction', 'hidden-reduction']
        .forEach(id => document.getElementById(id).textContent = '0');
    document.getElementById('input-word').textContent = '';
    document.getElementById('ordinal-breakdown').textContent = '';
}

function resetAll() {
    document.getElementById('word-input').value = '';
    resetResults();
    document.getElementById('anagram-section').style.display = 'none';
    document.getElementById('crypto-section').style.display = 'none';
}

async function findAnagrams() {
    const input = document.getElementById('word-input').value.trim();
    if (!input) return alert('შეიყვანეთ სიტყვა ანაგრამებისთვის.');

    const section = document.getElementById('anagram-section');
    const loader = document.getElementById('anagram-loader');
    const message = document.getElementById('anagram-message');
    const table = document.getElementById('anagram-table');
    const results = document.getElementById('anagram-results');

    section.style.display = 'block';
    loader.style.display = 'block';
    message.textContent = 'ანაგრამების ძიება...';
    table.style.display = 'none';
    results.innerHTML = '';

    try {
        const response = await fetch('https://anagram-service.onrender.com/api/find-anagrams', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ word: input })
        });

        if (!response.ok) throw new Error('სერვერის შეცდომა');
        const data = await response.json();

        loader.style.display = 'none';
        if (data.anagrams && data.anagrams.length > 0) {
            data.anagrams.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `<td>${item.word}</td>`;
                results.appendChild(row);
            });
            table.style.display = 'table';
            message.textContent = 'ანაგრამები ნაპოვნია!';
        } else {
            results.innerHTML = '<tr><td>ანაგრამები არ მოიძებნა</td></tr>';
            table.style.display = 'table';
            message.textContent = 'ანაგრამები არ მოიძებნა';
        }
    } catch (error) {
        loader.style.display = 'none';
        results.innerHTML = `<tr><td>შეცდომა: ${error.message}</td></tr>`;
        table.style.display = 'table';
        message.textContent = 'შეცდომა ანაგრამების ძიებისას';
    }
}

async function performCryptoAnalysis() {
    const input = document.getElementById('word-input').value.trim();
    if (!input) return alert('შეიყვანეთ ტექსტი ანალიზისთვის.');

    const section = document.getElementById('crypto-section');
    const loader = document.getElementById('crypto-loader');
    const result = document.getElementById('crypto-result');

    section.style.display = 'block';
    loader.style.display = 'block';
    result.textContent = 'მიმდინარეობს ანალიზი...';

    try {
        const response = await fetch('https://anagram-service.onrender.com/api/crypto-analysis', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ text: input })
        });

        if (!response.ok) throw new Error('სერვერის შეცდომა');
        const data = await response.json();

        loader.style.display = 'none';
        result.textContent = data.analysis;
    } catch (error) {
        loader.style.display = 'none';
        result.textContent = `შეცდომა: ${error.message}`;
    }
}

function debounce(func, wait) {
    let timeout;
    return function (...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(this, args), wait);
    };
}
    </script>
</body>
</html>
